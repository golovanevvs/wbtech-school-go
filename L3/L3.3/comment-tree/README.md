# Comment Tree

comment-tree — это веб-приложение для работы с древовидными комментариями.

Протестировать работу сервиса можно по ссылке:

[https://incompletely-elemental-moonfish.cloudpub.ru/comment-tree_web-client/](https://incompletely-elemental-moonfish.cloudpub.ru/comment-tree_web-client/)

Пользователи могут:

- Просматривать древовидную структуру комментариев.
- Отвечать на комментарии.
- Удалять комментарии (и все их ответы).
- Искать комментарии по тексту.
- Взаимодействовать с интуитивным интерфейсом.

Проект состоит из двух частей:

- [**comment-tree_main-server**](comment-tree_main-server) (Go) — отвечает за API и работу с данными.  
- [**comment-tree_web-client**](comment-tree_web-client) (Next.js) — веб-интерфейс для работы с сервисом.

---

## Архитектура

### Backend (Go)

- **Язык**: Go
- **Фреймворк**: Gin
- **База данных**: PostgreSQL
- **Архитектура**: Трёхслойная (handlers → service → repository)
- **Интерфейсы**: `IService`, `IRepository`
- **Миграции**: `migrate`

### Frontend (Next.js)

- **Язык**: TypeScript
- **Фреймворк**: Next.js 16 (App Router)
- **UI**: Material UI + Emotion
- **Состояние**: React Context
- **Стили**: CSS Modules
- **Формы**: React Hook Form

---

## Функционал

### API

| Метод | Путь                    | Описание                                    |
|-------|-------------------------|---------------------------------------------|
| POST  | `/comments`             | Создать комментарий (с `parent_id` или без) |
| GET   | `/comments?parent={id}` | Получить комментарий и всех его потомков    |
| DELETE| `/comments/{id}`        | Удалить комментарий и всех его потомков     |
| GET   | `/comments/search?q={text}` | Найти комментарии по тексту             |

### Веб-интерфейс

- Просмотр дерева комментариев с визуальной вложенностью.
- Форма добавления/ответа на комментарии.
- Удаление комментариев.
- Поиск по ключевым словам.
- Переключение темы (светлая/тёмная).
- Обновление дерева после действий.
